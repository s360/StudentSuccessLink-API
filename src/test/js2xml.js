/**
 * Created by zaenal on 14/09/15.
 */
var fs = require('fs'),
    xml2js = require('xml2js'),
    utils = require(__dirname+'/../lib/utils');

var obj = {"_links":{"self":{"href":"/55913fc817aac10c2bbfe1e8/students/55eea07209650f0c4a294adb/xsre.xml"}},"_embedded":{"users":[],"programs":[]},"name":{"familyName":"Stark","givenName":"Rickon"},"localId":"123","phoneNumber":{"number":"555-555-1212","primaryIndicator":"True"},"demographics":{"races":{"race":"AmericanIndianOrAlaskaNative"},"hispanicLatinoEthnicity":"False","sex":"Male"},"enrollment":{"leaRefId":"","schoolRefId":"11","membershipType":"Current","entryDate":"","exitDate":"2021","gradeLevel":"5","projectedGraduationYear":"2021","schoolYear":"2015","daysAbsent":"","studentAttendanceRate":"","exitType":"","exitTypeDescription":""},"otherEnrollments":{"enrollment":{"leaRefId":"","schoolRefId":"9876","membershipType":"","entryDate":"01/01/15","exitDate":"","gradeLevel":"5","projectedGraduationYear":"","schoolYear":"2015","daysAbsent":"3","studentAttendanceRate":"80","exitType":"555","exitTypeDescription":"Enrolled"}},"languages":{"language":[{"type":"Dominant","code":"Common"},{"type":"Home","code":"Common"}]},"reportDate":"2015-09-11","assessments":{"assessment":[{"studentGradeLevel":"5","school":{"leaRefId":"","localId":"9876","schoolName":"Winterfell Elementary"},"scoreSets":{"scoreSet":{"subTestSubjectArea":"Reading","subTestName":"Valyrian","scores":{"score":[{"metric":"00506","scoreValue":"80"},{"metric":"00502","scoreValue":"5"},{"metric":"03474","scoreValue":"MetTypicalGrowth_LastFall2ThisFall True"},{"metric":"03474","scoreValue":"MetTypicalGrowth_LastSpring2ThisSpring False"}]},"attemptCode":""}}},{"studentGradeLevel":"5","school":{"leaRefId":"","localId":"9876","schoolName":"Winterfell Elementary"},"scoreSets":{"scoreSet":{"subTestSubjectArea":"Reading","subTestName":"Valyrian","scores":{"score":[{"metric":"03479","scoreValue":"79"},{"metric":"00503","scoreValue":"3"},{"metric":"00500","scoreValue":"No"}]},"attemptCode":"AU"}}}]},"attendance":{"summaries":{"summary":[{"startDate":"","endDate":"","daysAbsent":"20","studentAttendanceRate":"80","riskLevel":"High","trend":"Worsening"},{"startDate":"01/01/15","endDate":"","daysAbsent":"","studentAttendanceRate":"","riskLevel":"","trend":""}]},"events":{"event":[{"calendarEventDate":"02-03-2015","dailyAttendanceStatus":"","attendanceEventType":"DailyAttendance","absentAttendanceCategory":"","attendanceValue":"Unexcused","course":{"timeTablePeriod":"","schoolRefId":"","leaCourseId":"","courseTitle":"","subject":"","scedCourseSubjectAreaCode":"","creditsAttempted":"","creditsEarned":"","progressMark":"","finalMarkValue":""},"timeTablePeriod":"","absentReasonDescription":"","calendarEventDateTime":1422896400000,"calendarEventDateString":"02/03/15"},{"calendarEventDate":"05-01-2015","dailyAttendanceStatus":"Excused","attendanceEventType":"ClassSectionAttendance","absentAttendanceCategory":"13303","attendanceValue":"","course":{"timeTablePeriod":"","schoolRefId":"","leaCourseId":"HCT1980","courseTitle":"Wilderness Survival","subject":"","scedCourseSubjectAreaCode":"","creditsAttempted":"","creditsEarned":"","progressMark":"","finalMarkValue":""},"timeTablePeriod":"1","absentReasonDescription":"Wildling attack","calendarEventDateTime":1430413200000,"calendarEventDateString":"05/01/15"}]}},"disciplineIncidents":{"disciplineIncident":[{"description":"Loss of privileges","incidentDate":"05-01-2015","localId":"765","incidentDateTime":1430413200000}]},"transcriptTerm":{"school":{"leaRefId":"","localId":"9876","schoolName":"Winterfell Elementary"},"schoolYear":"2014-15","session":{"sessionType":"Quarter","sessionCode":"Q1 Interim","description":"2014-15 Q1 Interim","markingTerm":"","startDate":""},"gradeLevel":"","courses":{"course":{"timeTablePeriod":"3","schoolRefId":"","leaCourseId":"HCT1980","courseTitle":"Rock Climbing","subject":"Bouldering","scedCourseSubjectAreaCode":"B101","creditsAttempted":"","creditsEarned":"","progressMark":"4","finalMarkValue":""}},"academicSummary":{"cumulativeWeightedGpa":"","onTrackToGraduate":"Y","totalCreditsEarned":"30"}},"otherTranscriptTerms":{"transcriptTerm":{"school":{"leaRefId":"","localId":"9876","schoolName":"Winterfell Elementary"},"schoolYear":"2015","session":{"sessionType":"Semester","sessionCode":"1","description":"Semester 1","markingTerm":"true","startDate":""},"gradeLevel":"5","courses":{"course":{"timeTablePeriod":"3","schoolRefId":"","leaCourseId":"HCT1980","courseTitle":"Rock Climbing","subject":"Bouldering","scedCourseSubjectAreaCode":"B101","creditsAttempted":"8","creditsEarned":"8","progressMark":"","finalMarkValue":"3"}},"academicSummary":{"cumulativeWeightedGpa":"","onTrackToGraduate":"","totalCreditsEarned":""}}},"programs":{"specialEducation":{"schoolYear":"2015","services":{"service":{"ideaIndicator":"Y"}}},"lep":{"lepStatus":"N","title3LepParticipationStatus":"N"},"giftedTalented":"Yes","section504":"Y"},"attendanceBehaviors":[{"04/27/2015 - 05/03/2015":{"weekDate":"04/27/2015 - 05/03/2015","summary":{"title":"04/27/2015 - 05/03/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["04/27/2015 - 05/03/2015","Period 1"],"M":["04/27/2015",{"value":"N/A","event":null,"slug":""}],"T":["04/28/2015",{"value":"N/A","event":null,"slug":""}],"W":["04/29/2015",{"value":"N/A","event":null,"slug":""}],"TH":["04/30/2015",{"value":"N/A","event":null,"slug":""}],"F":["05/01/2015",{"value":"Excused","event":{"calendarEventDate":"05/01/15","attendanceValue":"","attendanceStatus":"Excused","attendanceStatusTitle":"","attendanceEventType":"ClassSectionAttendance","attendanceEventTypeTitle":"Class/section attendance","absentAttendanceCategory":13303,"absentAttendanceCategoryTitle":"Situation unknown","presentAttendanceCategory":null,"presentAttendanceCategoryTitle":null,"timeTablePeriod":1},"slug":"excused"}],"weeklyChange":["N/A",null]},"details":[{"title":"04/27/2015 - 05/03/2015","M":"04/27/2015","T":"04/28/2015","W":"04/29/2015","TH":"04/30/2015","F":"05/01/2015","weeklyChange":"N/A"},{"title":"Period 1","M":{"value":"N/A","event":null,"slug":""},"T":{"value":"N/A","event":null,"slug":""},"W":{"value":"N/A","event":null,"slug":""},"TH":{"value":"N/A","event":null,"slug":""},"F":{"value":"Excused","event":{"calendarEventDate":"05/01/15","attendanceValue":"","attendanceStatus":"Excused","attendanceStatusTitle":"","attendanceEventType":"ClassSectionAttendance","attendanceEventTypeTitle":"Class/section attendance","absentAttendanceCategory":13303,"absentAttendanceCategoryTitle":"Situation unknown","presentAttendanceCategory":null,"presentAttendanceCategoryTitle":null,"timeTablePeriod":1},"slug":"excused"}}],"periods":["04/27/2015 - 05/03/2015","Period 1"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[{"incidentDate":"05/01/15","description":"Loss of privileges","incidentCategory":null,"incidentCategoryTitle":null}]},"weeklyChange":"0.00%"}},{"04/20/2015 - 04/26/2015":{"weekDate":"04/20/2015 - 04/26/2015","summary":{"title":"04/20/2015 - 04/26/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["04/20/2015 - 04/26/2015"],"M":["04/20/2015"],"T":["04/21/2015"],"W":["04/22/2015"],"TH":["04/23/2015"],"F":["04/24/2015"],"weeklyChange":["N/A"]},"details":[{"title":"04/20/2015 - 04/26/2015","M":"04/20/2015","T":"04/21/2015","W":"04/22/2015","TH":"04/23/2015","F":"04/24/2015","weeklyChange":"N/A"}],"periods":["04/20/2015 - 04/26/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"04/13/2015 - 04/19/2015":{"weekDate":"04/13/2015 - 04/19/2015","summary":{"title":"04/13/2015 - 04/19/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["04/13/2015 - 04/19/2015"],"M":["04/13/2015"],"T":["04/14/2015"],"W":["04/15/2015"],"TH":["04/16/2015"],"F":["04/17/2015"],"weeklyChange":["N/A"]},"details":[{"title":"04/13/2015 - 04/19/2015","M":"04/13/2015","T":"04/14/2015","W":"04/15/2015","TH":"04/16/2015","F":"04/17/2015","weeklyChange":"N/A"}],"periods":["04/13/2015 - 04/19/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"04/06/2015 - 04/12/2015":{"weekDate":"04/06/2015 - 04/12/2015","summary":{"title":"04/06/2015 - 04/12/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["04/06/2015 - 04/12/2015"],"M":["04/06/2015"],"T":["04/07/2015"],"W":["04/08/2015"],"TH":["04/09/2015"],"F":["04/10/2015"],"weeklyChange":["N/A"]},"details":[{"title":"04/06/2015 - 04/12/2015","M":"04/06/2015","T":"04/07/2015","W":"04/08/2015","TH":"04/09/2015","F":"04/10/2015","weeklyChange":"N/A"}],"periods":["04/06/2015 - 04/12/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"03/30/2015 - 04/05/2015":{"weekDate":"03/30/2015 - 04/05/2015","summary":{"title":"03/30/2015 - 04/05/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["03/30/2015 - 04/05/2015"],"M":["03/30/2015"],"T":["03/31/2015"],"W":["04/01/2015"],"TH":["04/02/2015"],"F":["04/03/2015"],"weeklyChange":["N/A"]},"details":[{"title":"03/30/2015 - 04/05/2015","M":"03/30/2015","T":"03/31/2015","W":"04/01/2015","TH":"04/02/2015","F":"04/03/2015","weeklyChange":"N/A"}],"periods":["03/30/2015 - 04/05/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"03/23/2015 - 03/29/2015":{"weekDate":"03/23/2015 - 03/29/2015","summary":{"title":"03/23/2015 - 03/29/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["03/23/2015 - 03/29/2015"],"M":["03/23/2015"],"T":["03/24/2015"],"W":["03/25/2015"],"TH":["03/26/2015"],"F":["03/27/2015"],"weeklyChange":["N/A"]},"details":[{"title":"03/23/2015 - 03/29/2015","M":"03/23/2015","T":"03/24/2015","W":"03/25/2015","TH":"03/26/2015","F":"03/27/2015","weeklyChange":"N/A"}],"periods":["03/23/2015 - 03/29/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"03/16/2015 - 03/22/2015":{"weekDate":"03/16/2015 - 03/22/2015","summary":{"title":"03/16/2015 - 03/22/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["03/16/2015 - 03/22/2015"],"M":["03/16/2015"],"T":["03/17/2015"],"W":["03/18/2015"],"TH":["03/19/2015"],"F":["03/20/2015"],"weeklyChange":["N/A"]},"details":[{"title":"03/16/2015 - 03/22/2015","M":"03/16/2015","T":"03/17/2015","W":"03/18/2015","TH":"03/19/2015","F":"03/20/2015","weeklyChange":"N/A"}],"periods":["03/16/2015 - 03/22/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"03/09/2015 - 03/15/2015":{"weekDate":"03/09/2015 - 03/15/2015","summary":{"title":"03/09/2015 - 03/15/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["03/09/2015 - 03/15/2015"],"M":["03/09/2015"],"T":["03/10/2015"],"W":["03/11/2015"],"TH":["03/12/2015"],"F":["03/13/2015"],"weeklyChange":["N/A"]},"details":[{"title":"03/09/2015 - 03/15/2015","M":"03/09/2015","T":"03/10/2015","W":"03/11/2015","TH":"03/12/2015","F":"03/13/2015","weeklyChange":"N/A"}],"periods":["03/09/2015 - 03/15/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"03/02/2015 - 03/08/2015":{"weekDate":"03/02/2015 - 03/08/2015","summary":{"title":"03/02/2015 - 03/08/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["03/02/2015 - 03/08/2015"],"M":["03/02/2015"],"T":["03/03/2015"],"W":["03/04/2015"],"TH":["03/05/2015"],"F":["03/06/2015"],"weeklyChange":["N/A"]},"details":[{"title":"03/02/2015 - 03/08/2015","M":"03/02/2015","T":"03/03/2015","W":"03/04/2015","TH":"03/05/2015","F":"03/06/2015","weeklyChange":"N/A"}],"periods":["03/02/2015 - 03/08/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"02/23/2015 - 03/01/2015":{"weekDate":"02/23/2015 - 03/01/2015","summary":{"title":"02/23/2015 - 03/01/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["02/23/2015 - 03/01/2015"],"M":["02/23/2015"],"T":["02/24/2015"],"W":["02/25/2015"],"TH":["02/26/2015"],"F":["02/27/2015"],"weeklyChange":["N/A"]},"details":[{"title":"02/23/2015 - 03/01/2015","M":"02/23/2015","T":"02/24/2015","W":"02/25/2015","TH":"02/26/2015","F":"02/27/2015","weeklyChange":"N/A"}],"periods":["02/23/2015 - 03/01/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"02/16/2015 - 02/22/2015":{"weekDate":"02/16/2015 - 02/22/2015","summary":{"title":"02/16/2015 - 02/22/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["02/16/2015 - 02/22/2015"],"M":["02/16/2015"],"T":["02/17/2015"],"W":["02/18/2015"],"TH":["02/19/2015"],"F":["02/20/2015"],"weeklyChange":["N/A"]},"details":[{"title":"02/16/2015 - 02/22/2015","M":"02/16/2015","T":"02/17/2015","W":"02/18/2015","TH":"02/19/2015","F":"02/20/2015","weeklyChange":"N/A"}],"periods":["02/16/2015 - 02/22/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"02/09/2015 - 02/15/2015":{"weekDate":"02/09/2015 - 02/15/2015","summary":{"title":"02/09/2015 - 02/15/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["02/09/2015 - 02/15/2015"],"M":["02/09/2015"],"T":["02/10/2015"],"W":["02/11/2015"],"TH":["02/12/2015"],"F":["02/13/2015"],"weeklyChange":["N/A"]},"details":[{"title":"02/09/2015 - 02/15/2015","M":"02/09/2015","T":"02/10/2015","W":"02/11/2015","TH":"02/12/2015","F":"02/13/2015","weeklyChange":"N/A"}],"periods":["02/09/2015 - 02/15/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}},{"02/02/2015 - 02/08/2015":{"weekDate":"02/02/2015 - 02/08/2015","summary":{"title":"02/02/2015 - 02/08/2015","M":"0.00%","T":"0.00%","W":"0.00%","TH":"0.00%","F":"0.00%","weeklyChange":"0.00%"},"detailColumns":{"periods":["02/02/2015 - 02/08/2015"],"M":["02/02/2015"],"T":["02/03/2015"],"W":["02/04/2015"],"TH":["02/05/2015"],"F":["02/06/2015"],"weeklyChange":["N/A"]},"details":[{"title":"02/02/2015 - 02/08/2015","M":"02/02/2015","T":"02/03/2015","W":"02/04/2015","TH":"02/05/2015","F":"02/06/2015","weeklyChange":"N/A"}],"periods":["02/02/2015 - 02/08/2015"],"behaviors":{"M":[],"T":[],"W":[],"TH":[],"F":[]},"weeklyChange":"0.00%"}}],"transcripts":{"history":[{},{"schoolName":"Winterfell Elementary","schoolYear":"2014-15"}],"details":[{"gradeLevel":"","schoolYear":"2014-15","schoolName":"Winterfell Elementary","session":"2014-15 Q1 Interim","transcripts":{},"summary":{"totalCreditsEarned":30,"termWeightedGpa":0,"cumulativeGpa":0,"termCreditsAttempted":0,"classRank":0,"gpaScale":0}},{"transcripts":{},"summary":{"totalCreditsEarned":0,"termWeightedGpa":0,"cumulativeGpa":0,"termCreditsAttempted":0,"classRank":0,"gpaScale":0}}],"credits":1,"subject":[],"subjectValues":[],"totalCreditsEarned":0,"totalCreditsAttempted":0,"gradeLevel":"N/A","summary":{"totalCreditsEarned":30,"termWeightedGpa":0,"cumulativeGpa":0,"termCreditsAttempted":0,"classRank":0,"gpaScale":0},"info":{"totalEarned":0,"totalAttempted":0,"gradeLevel":0}},"lastUpdated":"09/15/2015 14:20:58"};

var xml = utils.js2xml(obj);

console.log(xml);